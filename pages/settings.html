<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../styles.css" />
    <link rel="icon" type="image/png" href="../images/everyone.svg" />
    <title>Settings</title>
  </head>
  <body>
    <nav>
      <ul role="navigation">
        <li tabindex="0" class="key-nav" id="skip_to_content">
          <a href="#main_content">Skip to main content</a>
        </li>
        <li tabindex="0" class="key-nav">
          <a href="/">Home </a><i class="fas fa-home" aria-hidden="true"></i>
        </li>
        <li tabindex="0" class="key-nav">
          <a href="../pages/about.html">About me </a
          ><i class="far fa-address-card" aria-hidden="true"></i>
        </li>
        <li tabindex="0" class="key-nav">
          <a href="../pages/inclusive.html">Inclusive development </a
          ><i class="fas fa-user-check" aria-hidden="true"></i>
        </li>
        <li tabindex="0" class="key-nav">
          <a href="../pages/tools.html">Digital health </a
          ><i class="fas fa-spa" aria-hidden="true"></i>
        </li>
        <li tabindex="0" class="key-nav" id="current_page">
          <a href="../pages/settings.html" aria-current="page">Settings </a
          ><i class="fas fa-cog" aria-hidden="true"></i>
        </li>
      </ul>
    </nav>

    <div class="settings-container">
      <h1 id="main_content">Settings</h1>
      <header>Font size</header>
      <div class="font-size-buttons">
        <button id="medium_btn" data-size="large">Regular font</button>
        <button id="large_btn" data-size="x-large">Large font</button>
        <button id="xl_btn" data-size="xx-large">Extra large font</button>
        <button id="xxl_btn" data-size="xxx-large">Max size font</button>
      </div>
      <header>Colours</header>
      <button class="toggle-dark">Toggle Dark Mode</button>
      <button class="toggle-easy">Toggle Pastel Mode</button>

      <header>Font</header>
      <div class="font-family-buttons">
        <button id="sans">Sans</button>
        <button id="serif">Serif</button>
        <button id="open_D">OpenDyslexic</button>
      </div>
      <header>Language</header>
      <div id="google_translate_element"></div>
    </div>

    <footer>
      <p>
        <span><i id="github-icon" class="fab fa-github"></i></span>DuckRabbitPy
      </p>
    </footer>
    <script
      crossorigin="anonymous"
      src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2Ces2016%2Ces2017%2Ces2018%2Ces2019%2Ces6%2Ces5"
    ></script>
    <script src="../app.js"></script>
    <script
      type="text/javascript"
      src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"
    ></script>
    <script>
      //page specific JavaScript

      const themeToggle = document.querySelector(".toggle-dark");
      const easyToggle = document.querySelector(".toggle-easy");
      const fontButtons = document.querySelectorAll(".font-size-buttons");

      //font size buttons
      [...fontButtons].forEach((elem) => {
        elem.addEventListener("click", (event) => {
          let targetSize = event.target.dataset.size;
          document.documentElement.style.setProperty("--font-size", targetSize);
          sessionStorage.setItem("storedFontSize", targetSize);
        });
      });

      //font-family buttons
      const sansButton = document.getElementById("sans");
      const serifButton = document.getElementById("serif");
      const openDButton = document.getElementById("open_D");

      //toggle button
      themeToggle.addEventListener("click", () => {
        let currentTheme =
          document.documentElement.getAttribute("current-theme");
        let targetTheme = "light-theme";

        if (
          currentTheme === "light-theme" ||
          currentTheme === "easy-read-theme" ||
          currentTheme === null
        ) {
          targetTheme = "dark-theme";
        }

        document.documentElement.setAttribute("current-theme", targetTheme);
        sessionStorage.setItem("storedColour", targetTheme);
      });

      easyToggle.addEventListener("click", () => {
        let currentTheme =
          document.documentElement.getAttribute("current-theme");
        let targetTheme = "light-theme";

        if (
          currentTheme === "light-theme" ||
          currentTheme === "dark-theme" ||
          currentTheme === null
        ) {
          targetTheme = "easy-read-theme";
        }

        document.documentElement.setAttribute("current-theme", targetTheme);
        sessionStorage.setItem("storedColour", targetTheme);
      });

      //font buttons
      serifButton.addEventListener("click", () => {
        document.documentElement.style.setProperty(
          "--font-family",
          "'serif', 'Georgia', 'Lucida'"
        );
        sessionStorage.setItem("storedFontFamily", "serif");
      });

      sansButton.addEventListener("click", () => {
        document.documentElement.style.setProperty(
          "--font-family",
          "'-apple-system', 'BlinkMacSystemFont', 'Arial', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell'"
        );
        sessionStorage.setItem("storedFontFamily", "sans");
      });

      openDButton.addEventListener("click", () => {
        document.documentElement.style.setProperty(
          "--font-family",
          "openDyslexic"
        );
        sessionStorage.setItem("storedFontFamily", "openD");
      });
    </script>
  </body>
</html>
